{
  "hash": "368e1cfdc64767b4452d6736c751a8b4",
  "result": {
    "markdown": "---\ntitle: Distribuciones de frecuencias y representaciones gráficas\nlang: es\n---\n\n\n\n\n\n\n## Ejercicios Resueltos\n\nPara la realización de esta práctica se requieren los siguientes paquetes:\n\n\n\n\n::: {.cell hash='03-frecuencias-graficos_cache/epub/unnamed-chunk-1_f7a47d5d3d5805ed4034f0ed550f363c'}\n\n```{.r .cell-code}\nlibrary(tidyverse) \n# Incluye los siguientes paquetes:\n# - readr: para la lectura de ficheros csv. \n# - dplyr: para el preprocesamiento y manipulación de datos.\n# - ggplot2: para la representación gráfica.\nlibrary(knitr) # para el formateo de tablas.\nlibrary(kableExtra) # para personalizar el formato de las tablas.\n```\n:::\n\n\n\n\n:::{#exr-frecuencias-graficos-1}\nEn una encuesta a 25 matrimonios sobre el número de hijos que tenían se obtuvieron los siguientes datos:\n\n| |\n|:-:|\n|1, 2, 4, 2, 2, 2, 3, 2, 1, 1, 0, 2, 2, 0, 2, 2, 1, 2, 2, 3, 1, 2, 2, 1, 2 |\n\n\na. Crear un conjunto de datos con la variable `hijos`.\n\n:::{.callout-tip collapse=\"true\"}\n## Solución\n\n\n\n::: {.cell hash='03-frecuencias-graficos_cache/epub/unnamed-chunk-2_37e2c693e484ad013c636a77482a5ee6'}\n\n```{.r .cell-code}\ndf <- data.frame(hijos = c(1, 2, 4, 2, 2, 2, 3, 2, 1, 1, 0, 2, 2, 0, 2, 2, 1, 2, 2, 3, 1, 2, 2, 1, 2))\n```\n:::\n\n\n\n:::\n\nb. Construir la tabla de frecuencias.\n\n:::{.callout-tip collapse=\"true\"}\n## Solución 1\n\nPara obtener las frecuencias absolutas se puede usar la función [`table`](https://www.rdocumentation.org/packages/base/versions/3.6.2/topics/table), y para las frecuencias relativas la función  [`prop.table`](https://www.rdocumentation.org/packages/base/versions/3.6.2/topics/prop.table) ambas del paquete base de R.\n\n\n\n\n::: {.cell hash='03-frecuencias-graficos_cache/epub/unnamed-chunk-3_8b60282da1f4f5d61ae8bb1d8f96ff25'}\n\n```{.r .cell-code}\n# Frecuencias absolutas.\nni <- table(df$hijos)\n# Frecuencias relativas\nfi <- prop.table(ni)\n# Frecuencias acumuladas.\nNi <- cumsum(ni)\n# Frecuencias relativas acumuladas.\nFi <- cumsum(fi)\n# Creación de un data frame con las frecuencias.\ntabla_frec <- cbind(ni, fi, Ni, Fi)\ntabla_frec\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n  ni   fi Ni   Fi\n0  2 0.08  2 0.08\n1  6 0.24  8 0.32\n2 14 0.56 22 0.88\n3  2 0.08 24 0.96\n4  1 0.04 25 1.00\n```\n:::\n:::\n\n\n\n:::\n\n:::{.callout-tip collapse=\"true\"}\n## Solución 2\n\nOtra alternativa es usar la función [`count`](https://aprendeconalf.es/manual-r/06-preprocesamiento.html#conteo-del-n%C3%BAmero-de-observaciones) del paquete `dplyr`.\n\n::: {.content-visible when-format=\"html\"}\n\n\n\n::: {.cell hash='03-frecuencias-graficos_cache/epub/unnamed-chunk-4_df2b0287a8515012073e9ffcd0673be8'}\n\n```{.r .cell-code}\nlibrary(dplyr)\nlibrary(knitr)\nlibrary(kableExtra)\ncount(df, hijos) %>% \n    mutate(fi = n/sum(n), Ni = cumsum(n), Fi = cumsum(n)/sum(n)) %>%\n    kable() %>%\n    kable_styling(bootstrap_options = \"hover\", full_width = F)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-hover\" style=\"width: auto !important; margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:right;\"> hijos </th>\n   <th style=\"text-align:right;\"> n </th>\n   <th style=\"text-align:right;\"> fi </th>\n   <th style=\"text-align:right;\"> Ni </th>\n   <th style=\"text-align:right;\"> Fi </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 0.08 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 0.08 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 6 </td>\n   <td style=\"text-align:right;\"> 0.24 </td>\n   <td style=\"text-align:right;\"> 8 </td>\n   <td style=\"text-align:right;\"> 0.32 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 14 </td>\n   <td style=\"text-align:right;\"> 0.56 </td>\n   <td style=\"text-align:right;\"> 22 </td>\n   <td style=\"text-align:right;\"> 0.88 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 0.08 </td>\n   <td style=\"text-align:right;\"> 24 </td>\n   <td style=\"text-align:right;\"> 0.96 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0.04 </td>\n   <td style=\"text-align:right;\"> 25 </td>\n   <td style=\"text-align:right;\"> 1.00 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n\n:::\n\n::: {.content-visible unless-format=\"html\"}\n\n\n\n::: {.cell hash='03-frecuencias-graficos_cache/epub/unnamed-chunk-5_1e2d7b96929de95c8f72b958d95d1260'}\n\n```{.r .cell-code}\nlibrary(dplyr)\nlibrary(knitr)\nlibrary(kableExtra)\ncount(df, hijos) %>% \n    mutate(fi = n/sum(n), Ni = cumsum(n), Fi = cumsum(n)/sum(n)) %>%\n    kable()\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table>\n <thead>\n  <tr>\n   <th style=\"text-align:right;\"> hijos </th>\n   <th style=\"text-align:right;\"> n </th>\n   <th style=\"text-align:right;\"> fi </th>\n   <th style=\"text-align:right;\"> Ni </th>\n   <th style=\"text-align:right;\"> Fi </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 0.08 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 0.08 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 6 </td>\n   <td style=\"text-align:right;\"> 0.24 </td>\n   <td style=\"text-align:right;\"> 8 </td>\n   <td style=\"text-align:right;\"> 0.32 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 14 </td>\n   <td style=\"text-align:right;\"> 0.56 </td>\n   <td style=\"text-align:right;\"> 22 </td>\n   <td style=\"text-align:right;\"> 0.88 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 0.08 </td>\n   <td style=\"text-align:right;\"> 24 </td>\n   <td style=\"text-align:right;\"> 0.96 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0.04 </td>\n   <td style=\"text-align:right;\"> 25 </td>\n   <td style=\"text-align:right;\"> 1.00 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n\n:::\n:::\n\nc. Dibujar el diagrama de barras de las frecuencias absolutas, relativas, absolutas acumuladas y relativas acumuladas.\n\n:::{.callout-tip collapse=\"true\"}\n## Solución 1\n\nPara dibujar un diagrama de barras se puede usar la función [`barplot`](https://www.rdocumentation.org/packages/graphics/versions/3.6.2/topics/barplot) del paquete `graphics`.\n\n\n\n\n::: {.cell hash='03-frecuencias-graficos_cache/epub/unnamed-chunk-6_06ef6c3ce0fbc5e80f2d9007061841e0'}\n\n```{.r .cell-code}\n# Diagrama de barras de frecuencias absolutas.\nbarplot(ni, col = \"steelblue\", main=\"Distribución del número de hijos\", xlab=\"Hijos\", ylab=\"Frecuencia absoluta\")\n```\n\n::: {.cell-output-display}\n![](03-frecuencias-graficos_files/figure-epub/unnamed-chunk-6-1.png)\n:::\n\n```{.r .cell-code}\n# Diagrama de barras de frecuencias relativas.\nbarplot(fi, col = \"steelblue\", main=\"Distribución del número de hijos\", xlab=\"Hijos\", ylab=\"Frecuencia relativa\")\n```\n\n::: {.cell-output-display}\n![](03-frecuencias-graficos_files/figure-epub/unnamed-chunk-6-2.png)\n:::\n\n```{.r .cell-code}\n# Diagrama de barras de frecuencias absolutas acumuladas.\nbarplot(Ni, col = \"steelblue\", main=\"Distribución acumulada del número de hijos\", xlab=\"Hijos\", ylab=\"Frecuencia absoluta acumulada\")\n```\n\n::: {.cell-output-display}\n![](03-frecuencias-graficos_files/figure-epub/unnamed-chunk-6-3.png)\n:::\n\n```{.r .cell-code}\n# Diagrama de barras de frecuencias relativas acumuladas.\nbarplot(Fi, col = \"steelblue\", main=\"Distribución acumulada del número de hijos\", xlab=\"Hijos\", ylab=\"Frecuencia relativa acumulada\")\n```\n\n::: {.cell-output-display}\n![](03-frecuencias-graficos_files/figure-epub/unnamed-chunk-6-4.png)\n:::\n:::\n\n\n\n:::\n\n:::{.callout-tip collapse=\"true\"}\n## Solución 2\n\nOtra alternativa es usar la función la función [`geom_bar`](https://aprendeconalf.es/manual-r/07-graficos.html#diagramas-de-barras) del paquete `ggplot2`.\n\n\n\n\n::: {.cell hash='03-frecuencias-graficos_cache/epub/unnamed-chunk-7_12252431e03929de9135d69f70c48d60'}\n\n```{.r .cell-code}\nlibrary(ggplot2)\n# Diagarma de barras de frecuencias absolutas\nggplot(df, aes(x = hijos)) +\n    geom_bar(fill = \"steelblue\") + \n    labs(title = \"Distribución del número de hijos\", y = \"Frecuencia absoluta\")\n```\n\n::: {.cell-output-display}\n![](03-frecuencias-graficos_files/figure-epub/unnamed-chunk-7-1.png)\n:::\n\n```{.r .cell-code}\n# Diagarma de barras de frecuencias relativas\nggplot(df, aes(x = hijos)) +\n    geom_bar(aes(y = after_stat(count/sum(count))), fill = \"steelblue\") +\n    labs(title = \"Distribución del número de hijos\", y = \"Frecuencia relativa\")\n```\n\n::: {.cell-output-display}\n![](03-frecuencias-graficos_files/figure-epub/unnamed-chunk-7-2.png)\n:::\n\n```{.r .cell-code}\n# Diagarma de barras de frecuencias acumuladas\nggplot(df, aes(x = hijos)) +\n    geom_bar(aes(y = after_stat(cumsum(count))), fill = \"steelblue\") +\n    labs(title = \"Distribución acumulada del número de hijos\", y = \"Frecuencia absoluta acumulada\")\n```\n\n::: {.cell-output-display}\n![](03-frecuencias-graficos_files/figure-epub/unnamed-chunk-7-3.png)\n:::\n\n```{.r .cell-code}\n# Diagarma de barras de frecuencias acumuladas\nggplot(df, aes(x = hijos)) +\n    geom_bar(aes(y = after_stat(cumsum(count)/sum(count))), fill = \"steelblue\") +\n    labs(title = \"Distribución acumulada del número de hijos\", y = \"Frecuencia relativa acumulada\")\n```\n\n::: {.cell-output-display}\n![](03-frecuencias-graficos_files/figure-epub/unnamed-chunk-7-4.png)\n:::\n:::\n\n\n\n:::\n\nd. Dibujar el polígono de frecuencias relativas.\n\n:::{.callout-tip collapse=\"true\"}\n## Solución 1\n\nPara dibujar un diagrama de lineas se puede usar la función [`plot`](https://www.rdocumentation.org/packages/graphics/versions/3.6.2/topics/plot) del paquete `graphics`.\n\n\n\n\n::: {.cell hash='03-frecuencias-graficos_cache/epub/unnamed-chunk-8_cca9901639f53d9f08d2d2d8b33b4276'}\n\n```{.r .cell-code}\n# Frecuencias relativas.\nplot(names(fi), fi, type = \"l\", col = \"steelblue\", main=\"Distribución del número de hijos\", xlab=\"Hijos\", ylab=\"Frecuencia relativa\")\n```\n\n::: {.cell-output-display}\n![](03-frecuencias-graficos_files/figure-epub/unnamed-chunk-8-1.png)\n:::\n:::\n\n\n\n:::\n\n:::{.callout-tip collapse=\"true\"}\n## Solución 2\nOtra alternativa es usar la función la función [`geom_line`](https://aprendeconalf.es/manual-r/07-graficos.html#diagramas-de-lineas) del paquete `ggplot2`.\n\n\n\n\n::: {.cell hash='03-frecuencias-graficos_cache/epub/unnamed-chunk-9_ffb081392d4c285233ea1905e36b3a25'}\n\n```{.r .cell-code}\nlibrary(ggplot2)\ncount(df, hijos) %>% \n    mutate(fi = n/sum(n)) %>%\n    ggplot(aes(x=hijos, y=fi)) +\n    geom_line(col = \"steelblue\") +\n    labs(title = \"Distribución del número de hijos\", y = \"Frecuencia relativa\")\n```\n\n::: {.cell-output-display}\n![](03-frecuencias-graficos_files/figure-epub/unnamed-chunk-9-1.png)\n:::\n:::\n\n\n\n:::\n:::\n\n:::{#exr-frecuencias-graficos-2}\nEn un servicio de atención al cliente se han registrado el número de llamadas de clientes cada día del mes de noviembre, obteniendo los siguientes datos:\n\n| |\n|:-:|\n| 15, 23, 12, 10, 28, 50, 12, 17, 20, 21, 18, 13, 11, 12, 26,<br> 30, 6, 16, 19, 22, 14, 17, 21, 28, 9, 16, 13, 11, 16, 20 |\n\na. Crear un conjunto de datos con la variable `llamadas`.\n\n:::{.callout-tip collapse=\"true\"}\n## Solución\n\n\n\n::: {.cell hash='03-frecuencias-graficos_cache/epub/unnamed-chunk-10_9f10b407462206415d3ecd8d7caf4cc9'}\n\n```{.r .cell-code}\ndf <- data.frame(llamadas = c(15, 23, 12, 10, 28, 50, 12, 17, 20, 21, 18, 13, 11, 12, 26, 30, 6, 16, 19, 22, 14, 17, 21, 28, 9, 16, 13, 11, 16, 20))\n```\n:::\n\n\n\n:::\n\nb. Dibujar el diagrama de cajas. ¿Existe algún dato atípico? En el caso de que exista, eliminarlo y proceder con los siguientes apartados.\n\n:::{.callout-tip collapse=\"true\"}\n## Solución 1\n\nPara dibujar un diagrama de cajas se puede usar la función [`boxplot`](https://www.rdocumentation.org/packages/graphics/versions/3.6.2/topics/boxplot) del paquete `graphics`.\n\n\n\n\n::: {.cell hash='03-frecuencias-graficos_cache/epub/unnamed-chunk-11_c586b1a0fc09171d9ae15374e5fabdf7'}\n\n```{.r .cell-code}\n# Frecuencias relativas.\nboxplot(df$llamadas, col = \"steelblue\", main=\"Distribución del número de llamadas\", horizontal = T, xlab=\"Número de llamadas\")\n```\n\n::: {.cell-output-display}\n![](03-frecuencias-graficos_files/figure-epub/unnamed-chunk-11-1.png)\n:::\n:::\n\n\n\n:::\n\n:::{.callout-tip collapse=\"true\"}\n## Solución 2\nOtra alternativa es usar la función la función [`geom_boxplot`](https://aprendeconalf.es/manual-r/07-graficos.html#diagramas-de-cajas) del paquete `ggplot2`.\n\n\n\n\n::: {.cell hash='03-frecuencias-graficos_cache/epub/unnamed-chunk-12_cde32811096dc2c803506ca888459636'}\n\n```{.r .cell-code}\nlibrary(ggplot2)\nggplot(df, aes(x = llamadas)) +\n    geom_boxplot(fill = \"steelblue\") +\n    labs(title = \"Distribución del número de llamadas\", x = \"Número de llamadas\")\n```\n\n::: {.cell-output-display}\n![](03-frecuencias-graficos_files/figure-epub/unnamed-chunk-12-1.png)\n:::\n:::\n\n\n\n\nHay un día con 50 llamadas, que es un valor atípico en comparación con el resto de días.\n\n:::{.callout-tip collapse=\"true\"}\n## Solución\n\nLa función `cut` \n\n\n\n::: {.cell hash='03-frecuencias-graficos_cache/epub/unnamed-chunk-13_883b8d6019ff3f59950af09d350e1ae1'}\n\n```{.r .cell-code}\n# Eliminación del dato atípico.\ndf <- df[df$llamadas != 50, , drop = F]\n```\n:::\n\n\n\n:::\n:::\n\nc. Construir la tabla de frecuencias agrupando en 5 clases.\n\n:::{.callout-tip collapse=\"true\"}\n## Solución 1\n\nPara agrupar los datos en intervalos se puede utilizar la función [`cut`](https://www.rdocumentation.org/packages/base/versions/3.6.2/topics/cut) del paquete base de R, y para contar las frecuencias absolutas y relativas las funciones [`table`](https://www.rdocumentation.org/packages/base/versions/3.6.2/topics/table), y [`prop.table`](https://www.rdocumentation.org/packages/base/versions/3.6.2/topics/prop.table) respectivamente.\n\n\n\n\n::: {.cell hash='03-frecuencias-graficos_cache/epub/unnamed-chunk-14_2fa24e41ed203bcb08972135d718ff68'}\n\n```{.r .cell-code}\n# Frecuencias absolutas. Creación automática de 5 clases con intervalos cerrados a la izquierda.\n```\n:::\n::: {.cell hash='03-frecuencias-graficos_cache/epub/unnamed-chunk-15_88b294af96816a3523e7fc30212ad124'}\n\n```{.r .cell-code}\nni <- table(cut(df$llamadas, breaks = 5, right = F))\n# Creación manual de 5 clases.\nni <- table(cut(df$llamadas, breaks = seq(5, 30, 5)))\n# Frecuencias relativas\nfi <- prop.table(ni)\n# Frecuencias acumuladas.\nNi <- cumsum(ni)\n# Frecuencias relativas acumuladas.\nFi <- cumsum(fi)\n# Creación de un data frame con las frecuencias.\ntabla_frec <- cbind(ni, fi, Ni, Fi)\ntabla_frec\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n        ni        fi Ni        Fi\n(5,10]   3 0.1034483  3 0.1034483\n(10,15]  9 0.3103448 12 0.4137931\n(15,20]  9 0.3103448 21 0.7241379\n(20,25]  4 0.1379310 25 0.8620690\n(25,30]  4 0.1379310 29 1.0000000\n```\n:::\n:::\n\n\n\n:::\n\n:::{.callout-tip collapse=\"true\"}\n## Solución 2\n\nOtra alternativa es usar la fución [`count`](https://aprendeconalf.es/manual-r/06-preprocesamiento.html#conteo-del-n%C3%BAmero-de-observaciones) del paquete `dplyr`.\n\n::: {.content-visible when-format=\"html\"}\n\n\n\n::: {.cell hash='03-frecuencias-graficos_cache/epub/unnamed-chunk-16_12eb7fabb6c2ef92e8d75bfbb1b72102'}\n\n```{.r .cell-code}\nlibrary(dplyr)\nlibrary(knitr)\nlibrary(kableExtra)\nmutate(df, llamadas_int = cut(llamadas, breaks = seq(5, 30, 5))) %>% \n    count(llamadas_int) %>%\n    mutate(fi = n/sum(n), Ni = cumsum(n), Fi = cumsum(n)/sum(n)) %>%\n    kable() %>%\n    kable_styling(bootstrap_options = \"hover\", full_width = F)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-hover\" style=\"width: auto !important; margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> llamadas_int </th>\n   <th style=\"text-align:right;\"> n </th>\n   <th style=\"text-align:right;\"> fi </th>\n   <th style=\"text-align:right;\"> Ni </th>\n   <th style=\"text-align:right;\"> Fi </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> (5,10] </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 0.1034483 </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 0.1034483 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> (10,15] </td>\n   <td style=\"text-align:right;\"> 9 </td>\n   <td style=\"text-align:right;\"> 0.3103448 </td>\n   <td style=\"text-align:right;\"> 12 </td>\n   <td style=\"text-align:right;\"> 0.4137931 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> (15,20] </td>\n   <td style=\"text-align:right;\"> 9 </td>\n   <td style=\"text-align:right;\"> 0.3103448 </td>\n   <td style=\"text-align:right;\"> 21 </td>\n   <td style=\"text-align:right;\"> 0.7241379 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> (20,25] </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 0.1379310 </td>\n   <td style=\"text-align:right;\"> 25 </td>\n   <td style=\"text-align:right;\"> 0.8620690 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> (25,30] </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 0.1379310 </td>\n   <td style=\"text-align:right;\"> 29 </td>\n   <td style=\"text-align:right;\"> 1.0000000 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n\n:::\n\n::: {.content-visible unless-format=\"html\"}\n\n\n\n::: {.cell hash='03-frecuencias-graficos_cache/epub/unnamed-chunk-17_cc8539db5a63f28e43418180664ab9e1'}\n\n```{.r .cell-code}\nlibrary(dplyr)\nlibrary(knitr)\nlibrary(kableExtra)\nmutate(df, llamadas_int = cut(llamadas, breaks = seq(5, 30, 5))) %>% \n    count(llamadas_int) %>%\n    mutate(fi = n/sum(n), Ni = cumsum(n), Fi = cumsum(n)/sum(n)) %>%\n    kable()\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> llamadas_int </th>\n   <th style=\"text-align:right;\"> n </th>\n   <th style=\"text-align:right;\"> fi </th>\n   <th style=\"text-align:right;\"> Ni </th>\n   <th style=\"text-align:right;\"> Fi </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> (5,10] </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 0.1034483 </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 0.1034483 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> (10,15] </td>\n   <td style=\"text-align:right;\"> 9 </td>\n   <td style=\"text-align:right;\"> 0.3103448 </td>\n   <td style=\"text-align:right;\"> 12 </td>\n   <td style=\"text-align:right;\"> 0.4137931 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> (15,20] </td>\n   <td style=\"text-align:right;\"> 9 </td>\n   <td style=\"text-align:right;\"> 0.3103448 </td>\n   <td style=\"text-align:right;\"> 21 </td>\n   <td style=\"text-align:right;\"> 0.7241379 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> (20,25] </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 0.1379310 </td>\n   <td style=\"text-align:right;\"> 25 </td>\n   <td style=\"text-align:right;\"> 0.8620690 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> (25,30] </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 0.1379310 </td>\n   <td style=\"text-align:right;\"> 29 </td>\n   <td style=\"text-align:right;\"> 1.0000000 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n\n:::\n:::\n\nd. Dibujar el histograma de frecuencias absolutas, relativas, absolutas acumuladas y relativas acumuladas correspondiente a la tabla anterior.\n\n:::{.callout-tip collapse=\"true\"}\n## Solución 1\n\nPara dibujar un histograma se puede usar la función [`hist`](https://www.rdocumentation.org/packages/graphics/versions/3.6.2/topics/hist) del paquete `graphics`.\n\n\n\n\n::: {.cell hash='03-frecuencias-graficos_cache/epub/unnamed-chunk-18_eeaebfc3a11c1186c2fa7fae9c600394'}\n\n```{.r .cell-code}\n# Histograma de frecuencias absolutas.\nhisto <- hist(df$llamadas, breaks = seq(5, 30, 5), col = \"steelblue\", main=\"Distribución del número de llamadas\", xlab=\"Llamadas\", ylab=\"Frecuencia absoluta\")\n```\n\n::: {.cell-output-display}\n![](03-frecuencias-graficos_files/figure-epub/unnamed-chunk-18-1.png)\n:::\n\n```{.r .cell-code}\nni <- histo$counts\n# Histograma de frecuencias relativas.\nhisto$counts <- ni/sum(ni)\nplot(histo, col = \"steelblue\", main=\"Distribución del número de llamadas\", xlab=\"Llamadas\", ylab=\"Frecuencia relativa\")\n```\n\n::: {.cell-output-display}\n![](03-frecuencias-graficos_files/figure-epub/unnamed-chunk-18-2.png)\n:::\n\n```{.r .cell-code}\n# Histograma de frecuencias absolutas acumuladas.\nhisto$counts <- cumsum(ni)\nplot(histo, col = \"steelblue\", main=\"Distribución acumulada del número de llamadas\", xlab=\"Llamadas\", ylab=\"Frecuencia absoluta acumulada\")\n```\n\n::: {.cell-output-display}\n![](03-frecuencias-graficos_files/figure-epub/unnamed-chunk-18-3.png)\n:::\n\n```{.r .cell-code}\n# Histograma de frecuencias relativas acumuladas.\nhisto$counts <- cumsum(ni)/sum(ni)\nplot(histo, col = \"steelblue\", main=\"Distribución acumulada del número de llamadas\", xlab=\"Llamadas\", ylab=\"Frecuencia relativa acumulada\", )\n```\n\n::: {.cell-output-display}\n![](03-frecuencias-graficos_files/figure-epub/unnamed-chunk-18-4.png)\n:::\n:::\n\n\n\n:::\n\n:::{.callout-tip collapse=\"true\"}\n## Solución 2\n\nOtra alternativa es usar la función la función [`geom_histogram`](https://aprendeconalf.es/manual-r/07-graficos.html#histogramas) del paquete `ggplot2`.\n\n\n\n\n::: {.cell hash='03-frecuencias-graficos_cache/epub/unnamed-chunk-19_0fda6524a6ed715174b9564a022690ee'}\n\n```{.r .cell-code}\nlibrary(ggplot2)\n# Histograma de frecuencias absolutas\nggplot(df, aes(x = llamadas)) +\n    geom_histogram(breaks = seq(5, 30, 5), fill = \"steelblue\", col = \"white\") + \n    labs(title = \"Distribución del número de llamadas\", x = \"Número de llamadas\", y = \"Frecuencia absoluta\")\n```\n\n::: {.cell-output-display}\n![](03-frecuencias-graficos_files/figure-epub/unnamed-chunk-19-1.png)\n:::\n\n```{.r .cell-code}\n# Histograma de frecuencias relativas\nggplot(df, aes(x = llamadas)) +\n    geom_histogram(aes(y = after_stat(count/sum(count))), breaks = seq(5, 30, 5), fill = \"steelblue\", col = \"white\") +\n    labs(title = \"Distribución del número de llamadas\", x = \"Número de llamadas\", y = \"Frecuencia relativa\")\n```\n\n::: {.cell-output-display}\n![](03-frecuencias-graficos_files/figure-epub/unnamed-chunk-19-2.png)\n:::\n\n```{.r .cell-code}\n# Histograma de frecuencias acumuladas\nggplot(df, aes(x = llamadas)) +\n    geom_histogram(aes(y = after_stat(cumsum(count))), breaks = seq(5, 30, 5), fill = \"steelblue\", col = \"white\") +\n    labs(title = \"Distribución acumulada del número de llamadas\", x = \"Número de llamadas\", y = \"Frecuencia absoluta acumulada\")\n```\n\n::: {.cell-output-display}\n![](03-frecuencias-graficos_files/figure-epub/unnamed-chunk-19-3.png)\n:::\n\n```{.r .cell-code}\n# Histograma de frecuencias relativas acumuladas\nggplot(df, aes(x = llamadas)) +\n    geom_histogram(aes(y = after_stat(cumsum(count)/sum(count))),  breaks = seq(5, 30, 5), fill = \"steelblue\", col = \"white\") +\n    labs(title = \"Distribución acumulada del número de llamadas\", x = \"Número de llamadas\", y = \"Frecuencia relativa acumulada\")\n```\n\n::: {.cell-output-display}\n![](03-frecuencias-graficos_files/figure-epub/unnamed-chunk-19-4.png)\n:::\n:::\n\n\n\n:::\n\n\ne. Dibujar el polígono de frecuencias relativas acumuladas (ojiva).\n\n:::{.callout-tip collapse=\"true\"}\n## Solución 1\n\nPara dibujar la ojiva se puede usar la función [`plot`](https://www.rdocumentation.org/packages/graphics/versions/3.6.2/topics/plot) del paquete `graphics`.\n\n\n\n\n::: {.cell hash='03-frecuencias-graficos_cache/epub/unnamed-chunk-20_5b46b84ba7e4f17a94c88ebe2b278f6a'}\n\n```{.r .cell-code}\n# Ojiva\ncortes = seq(5, 30, 5)\nni <- table(cut(df$llamadas, breaks = cortes))\nFi <- c(0, cumsum(ni)/sum(ni))\nplot(cortes, Fi, type = \"l\", col = \"steelblue\", main = \"Distribución acumulada del número de llamadas\", xlab = \"Número de llamadas\", ylab = \"Frecuencia relativa acumulada\")\n```\n\n::: {.cell-output-display}\n![](03-frecuencias-graficos_files/figure-epub/unnamed-chunk-20-1.png)\n:::\n:::\n\n\n\n:::\n\n:::{.callout-tip collapse=\"true\"}\n## Solución 2\n\nOtra alternativa es usar la función la función [`geom_line`](https://aprendeconalf.es/manual-r/07-graficos.html#histogramas) del paquete `ggplot2`.\n\n\n\n\n::: {.cell hash='03-frecuencias-graficos_cache/epub/unnamed-chunk-21_d7d11a089c293526362e4e496315003e'}\n\n```{.r .cell-code}\nlibrary(ggplot2)\n# Ojiva\ncortes <- seq(5, 30, 5)\ntabla_frec <- mutate(df, llamadas_int = cut(df$llamadas, breaks = cortes)) %>% \n    count(llamadas_int) %>%\n    mutate(cortes = cortes[-1], Fi = cumsum(n)/sum(n)) %>%\n    select(cortes, Fi) \ntabla_frec <- rbind(data.frame(cortes = cortes[1], Fi = 0), tabla_frec)\nggplot(tabla_frec, aes(x = cortes , y = Fi)) +\n    geom_line(col = \"steelblue\") +\n    labs(title = \"Distribución del número de llamadas\", x = \"Número de llamadas\", y = \"Frecuencia relativa acumulada\")\n```\n\n::: {.cell-output-display}\n![](03-frecuencias-graficos_files/figure-epub/unnamed-chunk-21-1.png)\n:::\n:::\n\n\n\n:::\n:::\n\n:::{#exr-frecuencias-graficos-3}\nLos grupos sanguíneos de una muestra de 30 personas son:\n\n| |\n|:-:|\n|A, B, B, A, AB, 0, 0, A, B, B, A, A, A, A, AB, A, A, A, B, 0, B, B, B, A, A, A, 0, A, AB, 0 | \n\na. Crear un conjunto de datos con la variable `grupo_sanguíneo`.\n\n:::{.callout-tip collapse=\"true\"}\n## Solución\n\n\n\n::: {.cell hash='03-frecuencias-graficos_cache/epub/unnamed-chunk-22_ad7d9638d299169e3a6664f5f542c785'}\n\n```{.r .cell-code}\ndf <- data.frame(grupo_sanguineo = c(\"A\", \"B\", \"B\", \"A\", \"AB\", \"0\", \"0\", \"A\", \"B\", \"B\", \"A\", \"A\", \"A\", \"A\", \"AB\", \"A\", \"A\", \"A\", \"B\", \"0\", \"B\", \"B\", \"B\", \"A\", \"A\", \"A\", \"0\", \"A\", \"AB\", \"0\"))\n```\n:::\n\n\n\n:::\n\nb. Construir la tabla de frecuencias.\n\n:::{.callout-tip collapse=\"true\"}\n## Solución 1\n\nPara obtener las frecuencias absolutas se puede usar la función [`table`](https://www.rdocumentation.org/packages/base/versions/3.6.2/topics/table), y para las frecuencias relativas la función  [`prop.table`](https://www.rdocumentation.org/packages/base/versions/3.6.2/topics/prop.table) ambas del paquete base de R.\n\n\n\n\n::: {.cell hash='03-frecuencias-graficos_cache/epub/unnamed-chunk-23_8cd0c7dfe1c5bdcbacb86dd3cc33eca2'}\n\n```{.r .cell-code}\n# Frecuencias absolutas.\nni <- table(df$grupo_sanguineo)\n# Frecuencias relativas\nfi <- prop.table(ni)\ntabla_frec <- cbind(ni, fi)\ntabla_frec\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n   ni        fi\n0   5 0.1666667\nA  14 0.4666667\nAB  3 0.1000000\nB   8 0.2666667\n```\n:::\n:::\n\n\n\n:::\n\n:::{.callout-tip collapse=\"true\"}\n## Solución 2\n\nOtra alternativa es usar la fución [`count`](https://aprendeconalf.es/manual-r/06-preprocesamiento.html#conteo-del-n%C3%BAmero-de-observaciones) del paquete `dplyr`.\n\n::: {.content-visible when-format=\"html\"}\n\n\n\n::: {.cell hash='03-frecuencias-graficos_cache/epub/unnamed-chunk-24_ba929da62b6f0ac3bd5acd604ae44ac5'}\n\n```{.r .cell-code}\nlibrary(dplyr)\nlibrary(knitr)\nlibrary(kableExtra)\ncount(df, grupo_sanguineo) %>% \n    mutate(fi = n/sum(n)) %>%\n    kable() %>%\n    kable_styling(bootstrap_options = \"hover\", full_width = F)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-hover\" style=\"width: auto !important; margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> grupo_sanguineo </th>\n   <th style=\"text-align:right;\"> n </th>\n   <th style=\"text-align:right;\"> fi </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> 0 </td>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:right;\"> 0.1666667 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> A </td>\n   <td style=\"text-align:right;\"> 14 </td>\n   <td style=\"text-align:right;\"> 0.4666667 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> AB </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 0.1000000 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> B </td>\n   <td style=\"text-align:right;\"> 8 </td>\n   <td style=\"text-align:right;\"> 0.2666667 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n\n:::\n\n::: {.content-visible unless-format=\"html\"}\n\n\n\n::: {.cell hash='03-frecuencias-graficos_cache/epub/unnamed-chunk-25_c8057049722747ad72cedc2cb596b949'}\n\n```{.r .cell-code}\nlibrary(dplyr)\nlibrary(knitr)\nlibrary(kableExtra)\ncount(df, grupo_sanguineo) %>% \n    mutate(fi = n/sum(n)) %>%\n    kable()\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> grupo_sanguineo </th>\n   <th style=\"text-align:right;\"> n </th>\n   <th style=\"text-align:right;\"> fi </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> 0 </td>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:right;\"> 0.1666667 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> A </td>\n   <td style=\"text-align:right;\"> 14 </td>\n   <td style=\"text-align:right;\"> 0.4666667 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> AB </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 0.1000000 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> B </td>\n   <td style=\"text-align:right;\"> 8 </td>\n   <td style=\"text-align:right;\"> 0.2666667 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n\n:::\n:::\n\nc. Dibujar el diagrama de sectores.\n\n:::{.callout-tip collapse=\"true\"}\n## Solución 1\n\nPara dibujar el diagrama de sectores se puede usar la función [`pie`](https://www.rdocumentation.org/packages/graphics/versions/3.6.2/topics/pie) del paquete `graphics`.\n\n\n\n\n::: {.cell hash='03-frecuencias-graficos_cache/epub/unnamed-chunk-26_41ed2609eab3ea797b29f995285a8e9c'}\n\n```{.r .cell-code}\n# Diagrama de sectores\npie(ni, col = 1:length(ni), main = \"Distribución de los grupos sanguíneos\")\n```\n\n::: {.cell-output-display}\n![](03-frecuencias-graficos_files/figure-epub/unnamed-chunk-26-1.png)\n:::\n:::\n\n\n\n:::\n\n:::{.callout-tip collapse=\"true\"}\n## Solución 2\n\nOtra alternativa es usar las fuciones [`geom_bar`](https://aprendeconalf.es/manual-r/07-graficos.html#diagrama-de-sectores) y `coor_polar` del paquete `ggplot2`.\n\n\n\n\n::: {.cell hash='03-frecuencias-graficos_cache/epub/unnamed-chunk-27_cf24ccae32dbdfa9335edee6fd6eac0b'}\n\n```{.r .cell-code}\nggplot(df, aes(x = \"\", fill = grupo_sanguineo)) +\n    # Añadir la capa de las barras.\n    geom_bar() +\n    # Añadir el sistema de coordenadas polares\n    coord_polar(theta = \"y\") +\n    labs(title = \"Distribución de los grupos sanguíneos\")\n```\n\n::: {.cell-output-display}\n![](03-frecuencias-graficos_files/figure-epub/unnamed-chunk-27-1.png)\n:::\n:::\n\n\n\n:::\n:::\n\n:::{#exr-frecuencias-graficos-4}\nEn un estudio de población se tomó una muestra de 27 personas, y se les preguntó por su edad y estado civil,\nobteniendo los siguientes resultados:\n\n\n|Estado civil | Edad|\n|:-|:-|\n|Soltero |  31, 45, 35, 65, 21, 38, 62, 22, 31|\n|Casado |    62, 39, 62, 59, 21, 62          |\n|Viudo |     80, 68, 65, 40, 78, 69, 75       |\n|Divorciado | 31, 65, 59, 49, 65             |\n\na. Crear un conjunto de datos con la variables `estado_civil` y `edad`.\n\n:::{.callout-tip collapse=\"true\"}\n## Solución\n\n\n\n::: {.cell hash='03-frecuencias-graficos_cache/epub/unnamed-chunk-28_97bc6a63961b854e2a75edf9bb89c631'}\n\n```{.r .cell-code}\ndf <- data.frame(\n    edad = c(31, 45, 35, 65, 21, 38, 62, 22, 31, 62, 39, 62, 59, 21, 62, 80, 68, 65, 40, 78, 69, 75, 31, 65, 59, 49, 65), \n    estado_civil = rep(c(\"Soltero\", \"Casado\", \"Viudo\", \"Divorciado\"), c(9, 6, 7, 5)))\n```\n:::\n\n\n\n:::\n\nb. Calcular los tamaños muestrales según `estado_civil`.\n\n:::{.callout-tip collapse=\"true\"}\n## Solución 1\n\nUsando la función `table` del paquete base de R podemos obtener las frecuencias absolutas del estado civil que es el tamaño muestral de cada grupo.\n\n\n\n::: {.cell hash='03-frecuencias-graficos_cache/epub/unnamed-chunk-29_ce79f3b20cc375ea4fddd6caf24eeea2'}\n\n```{.r .cell-code}\ntable(df$estado_civil)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n    Casado Divorciado    Soltero      Viudo \n         6          5          9          7 \n```\n:::\n:::\n\n\n\n:::\n\n:::{.callout-tip collapse=\"true\"}\n## Solución 1\n\nUsando las funciones `groub_by`, `summarise` y `n` del paquete `dplyr`.\n\n\n\n::: {.cell hash='03-frecuencias-graficos_cache/epub/unnamed-chunk-30_a225135100c0a1877fd4e40c41c9fbdf'}\n\n```{.r .cell-code}\nlibrary(dplyr)\ndf %>% group_by(estado_civil) %>%\n    summarise(n = n())\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 4 × 2\n  estado_civil     n\n  <chr>        <int>\n1 Casado           6\n2 Divorciado       5\n3 Soltero          9\n4 Viudo            7\n```\n:::\n:::\n\n\n\n:::\n\nc. Construir la tabla de frecuencias de la variable `edad` para cada categoría de la variable `estado_civil`.\n\n:::{.callout-tip collapse=\"true\"}\n## Solución\n\nPara dividir la muestra en grupos se puede usar la función [`group-by`](https://aprendeconalf.es/manual-r/06-preprocesamiento.html#res%C3%BAmenes-por-grupos) del paquete `dplyr`.\n\n::: {.content-visible when-format=\"html\"}\n\n\n\n::: {.cell hash='03-frecuencias-graficos_cache/epub/unnamed-chunk-31_56133f8560310b5b2bef177415d2c903'}\n\n```{.r .cell-code}\nlibrary(dplyr)\nlibrary(knitr)\nlibrary(kableExtra)\nmutate(df, edad_int = cut(edad, breaks = seq(20, 80, 10))) %>%\n    group_by(estado_civil) %>%\n    count(edad_int) %>% \n    mutate(fi = n/sum(n), Ni = cumsum(n), Fi = cumsum(n)/sum(n)) %>%\n    kable() %>%\n    kable_styling(bootstrap_options = \"hover\", full_width = F)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-hover\" style=\"width: auto !important; margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> estado_civil </th>\n   <th style=\"text-align:left;\"> edad_int </th>\n   <th style=\"text-align:right;\"> n </th>\n   <th style=\"text-align:right;\"> fi </th>\n   <th style=\"text-align:right;\"> Ni </th>\n   <th style=\"text-align:right;\"> Fi </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> Casado </td>\n   <td style=\"text-align:left;\"> (20,30] </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0.1666667 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0.1666667 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Casado </td>\n   <td style=\"text-align:left;\"> (30,40] </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0.1666667 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 0.3333333 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Casado </td>\n   <td style=\"text-align:left;\"> (50,60] </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0.1666667 </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 0.5000000 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Casado </td>\n   <td style=\"text-align:left;\"> (60,70] </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 0.5000000 </td>\n   <td style=\"text-align:right;\"> 6 </td>\n   <td style=\"text-align:right;\"> 1.0000000 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Divorciado </td>\n   <td style=\"text-align:left;\"> (30,40] </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0.2000000 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0.2000000 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Divorciado </td>\n   <td style=\"text-align:left;\"> (40,50] </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0.2000000 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 0.4000000 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Divorciado </td>\n   <td style=\"text-align:left;\"> (50,60] </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0.2000000 </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 0.6000000 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Divorciado </td>\n   <td style=\"text-align:left;\"> (60,70] </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 0.4000000 </td>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:right;\"> 1.0000000 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Soltero </td>\n   <td style=\"text-align:left;\"> (20,30] </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 0.2222222 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 0.2222222 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Soltero </td>\n   <td style=\"text-align:left;\"> (30,40] </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 0.4444444 </td>\n   <td style=\"text-align:right;\"> 6 </td>\n   <td style=\"text-align:right;\"> 0.6666667 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Soltero </td>\n   <td style=\"text-align:left;\"> (40,50] </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0.1111111 </td>\n   <td style=\"text-align:right;\"> 7 </td>\n   <td style=\"text-align:right;\"> 0.7777778 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Soltero </td>\n   <td style=\"text-align:left;\"> (60,70] </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 0.2222222 </td>\n   <td style=\"text-align:right;\"> 9 </td>\n   <td style=\"text-align:right;\"> 1.0000000 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Viudo </td>\n   <td style=\"text-align:left;\"> (30,40] </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0.1428571 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0.1428571 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Viudo </td>\n   <td style=\"text-align:left;\"> (60,70] </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 0.4285714 </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 0.5714286 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Viudo </td>\n   <td style=\"text-align:left;\"> (70,80] </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 0.4285714 </td>\n   <td style=\"text-align:right;\"> 7 </td>\n   <td style=\"text-align:right;\"> 1.0000000 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n\n:::\n\n::: {.content-visible unless-format=\"html\"}\n\n\n\n::: {.cell hash='03-frecuencias-graficos_cache/epub/unnamed-chunk-32_77abfd0405600fdaec628a304987134e'}\n\n```{.r .cell-code}\nlibrary(dplyr)\nlibrary(knitr)\nlibrary(kableExtra)\nmutate(df, edad_int = cut(edad, breaks = seq(20, 80, 10))) %>%\n    group_by(estado_civil) %>%\n    count(edad_int) %>% \n    mutate(fi = n/sum(n), Ni = cumsum(n), Fi = cumsum(n)/sum(n)) %>%\n    kable()\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> estado_civil </th>\n   <th style=\"text-align:left;\"> edad_int </th>\n   <th style=\"text-align:right;\"> n </th>\n   <th style=\"text-align:right;\"> fi </th>\n   <th style=\"text-align:right;\"> Ni </th>\n   <th style=\"text-align:right;\"> Fi </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> Casado </td>\n   <td style=\"text-align:left;\"> (20,30] </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0.1666667 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0.1666667 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Casado </td>\n   <td style=\"text-align:left;\"> (30,40] </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0.1666667 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 0.3333333 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Casado </td>\n   <td style=\"text-align:left;\"> (50,60] </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0.1666667 </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 0.5000000 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Casado </td>\n   <td style=\"text-align:left;\"> (60,70] </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 0.5000000 </td>\n   <td style=\"text-align:right;\"> 6 </td>\n   <td style=\"text-align:right;\"> 1.0000000 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Divorciado </td>\n   <td style=\"text-align:left;\"> (30,40] </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0.2000000 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0.2000000 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Divorciado </td>\n   <td style=\"text-align:left;\"> (40,50] </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0.2000000 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 0.4000000 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Divorciado </td>\n   <td style=\"text-align:left;\"> (50,60] </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0.2000000 </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 0.6000000 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Divorciado </td>\n   <td style=\"text-align:left;\"> (60,70] </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 0.4000000 </td>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:right;\"> 1.0000000 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Soltero </td>\n   <td style=\"text-align:left;\"> (20,30] </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 0.2222222 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 0.2222222 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Soltero </td>\n   <td style=\"text-align:left;\"> (30,40] </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 0.4444444 </td>\n   <td style=\"text-align:right;\"> 6 </td>\n   <td style=\"text-align:right;\"> 0.6666667 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Soltero </td>\n   <td style=\"text-align:left;\"> (40,50] </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0.1111111 </td>\n   <td style=\"text-align:right;\"> 7 </td>\n   <td style=\"text-align:right;\"> 0.7777778 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Soltero </td>\n   <td style=\"text-align:left;\"> (60,70] </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 0.2222222 </td>\n   <td style=\"text-align:right;\"> 9 </td>\n   <td style=\"text-align:right;\"> 1.0000000 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Viudo </td>\n   <td style=\"text-align:left;\"> (30,40] </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0.1428571 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0.1428571 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Viudo </td>\n   <td style=\"text-align:left;\"> (60,70] </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 0.4285714 </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 0.5714286 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Viudo </td>\n   <td style=\"text-align:left;\"> (70,80] </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 0.4285714 </td>\n   <td style=\"text-align:right;\"> 7 </td>\n   <td style=\"text-align:right;\"> 1.0000000 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n\n:::\n:::\n\nd. Dibujar los diagramas de cajas de la edad según el estado civil. ¿Existen datos atípicos? ¿En qué grupo hay mayor\ndispersión?\n\n:::{.callout-tip collapse=\"true\"}\n## Solución\n\n\n\n\n::: {.cell hash='03-frecuencias-graficos_cache/epub/unnamed-chunk-33_968b34562f0618a1e5be105efb02457d'}\n\n```{.r .cell-code}\nlibrary(ggplot2)\nggplot(df, aes(x = edad, fill = estado_civil)) +\n    geom_boxplot()\n```\n\n::: {.cell-output-display}\n![](03-frecuencias-graficos_files/figure-epub/unnamed-chunk-33-1.png)\n:::\n:::\n\n\n\n:::\n\ne. Dibujar los histogramas de la edad según el estado civil.\n\n:::{.callout-tip collapse=\"true\"}\n## Solución\n\n\n\n\n::: {.cell hash='03-frecuencias-graficos_cache/epub/unnamed-chunk-34_a0f3de6aff1aa1afb41b4c457a3b1fc2'}\n\n```{.r .cell-code}\nggplot(df, aes(x = edad, fill = estado_civil)) +\n    geom_histogram(breaks = seq(20, 80, 10), position = \"identity\", alpha=0.4)\n```\n\n::: {.cell-output-display}\n![](03-frecuencias-graficos_files/figure-epub/unnamed-chunk-34-1.png)\n:::\n:::\n\n\n\n\nPara dibujar cada histograma por separado se puede usar la función [`facet_wrap`](https://aprendeconalf.es/manual-r/07-graficos.html#facetas) o `facet_grid` del paquete `ggplot2`.\n\n\n\n\n::: {.cell hash='03-frecuencias-graficos_cache/epub/unnamed-chunk-35_96e31266148ec497ef3a7b441b30ed4a'}\n\n```{.r .cell-code}\nggplot(df, aes(x = edad, fill = estado_civil)) +\n    geom_histogram(breaks = seq(20, 80, 10)) +\n    # Añadir la faceta del estado civil\n    facet_grid(rows = vars(estado_civil))\n```\n\n::: {.cell-output-display}\n![](03-frecuencias-graficos_files/figure-epub/unnamed-chunk-35-1.png)\n:::\n:::\n\n\n\n:::\n:::\n\n## Ejercicios propuestos\n\nEl conjunto de datos [neonatos](datos/neonatos.csv) contiene información sobre una muestra de 320 recién nacidos en un hospital durante un año que cumplieron el tiempo normal de gestación.\n\na. Construir la tabla de frecuencias de la puntuación Apgar al minuto de nacer. Si se considera que una puntuación Apgar de 3 o menos indica que el neonato está deprimido, ¿qué porcentaje de niños está deprimido en la muestra?\n\nb. Comparar las distribuciones de frecuencias de las puntuaciones Apgar al minuto de nacer según si la madre es mayor o menor de 20 años. ¿En qué grupo hay más neonatos deprimidos?\n\nc. Construir la tabla de frecuencias para el peso de los neonatos, agrupando en clases de amplitud $0.5$ desde el $2$ hasta el $4.5$. ¿En qué intervalo de peso hay más neonatos?\n\nd. Comparar la distribución de frecuencias relativas del peso de los neonatos según si la madre fuma o no. Si se considera como peso bajo un peso menor de $2.5$ kg, ¿En qué grupo hay un mayor porcentaje de niños con peso bajo?\n\ne. Si en los recién nacidos se considera como peso bajo un peso menor de $2.5$ kg, calcular la prevalencia del bajo peso de recién nacidos en el grupo de madres fumadoras y en el de no fumadoras.\n\nf. Construir el diagrama de barras de la puntuación Apgar al minuto. ¿Qué puntuación Apgar es la más frecuente?\n\ng. Construir el diagrama de frecuencias relativas acumuladas de la puntuación Apgar al minuto. ¿Por debajo de que puntuación estarán la mitad de los niños?\n\nh. Comparar mediante diagramas de barras de frecuencias relativas las distribuciones de las puntuaciones Apgar al minuto según si la madre ha fumado o no durante el embarazo. ¿Qué se puede concluir?\n\ni. Construir el histograma de pesos, agrupando en clases de amplitud $0.5$ desde el $2$ hasta el $4.5$. ¿En qué intervalo de peso hay más niños?\n\nj. Comparar la distribución de frecuencias relativas del peso de los neonatos según si la madre fuma o no. ¿En qué grupo se aprecia menor peso de los niños de la muestra?\n\nk. Comparar la distribución de frecuencias relativas del peso de los neonatos según si la madre fumaba o no antes del embarazo. ¿Qué se puede concluir?\n\nl. Construir el diagrama de caja y bigotes del peso. ¿Entre qué valores se considera que el peso de un neonato es normal? ¿Existen datos atípicos?\n\nm. Comparar el diagrama de cajas y bigotes del peso, según si la madre fumó o no durante el embarazo y si era mayor o no de 20 años. ¿En qué grupo el peso tiene más dispersión central? ¿En qué grupo pesan menos los niños de la muestra?\n\nn. Comparar el diagrama de cajas de la puntuación Apgar al minuto y a los cinco minutos. ¿En qué variable hay más dispersión central?\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {
      "knitr": [
        "{\"type\":\"list\",\"attributes\":{},\"value\":[]}"
      ]
    },
    "preserve": null,
    "postProcess": false
  }
}