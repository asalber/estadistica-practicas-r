{
  "hash": "98fb6ce15c8495fe429d03ae11490033",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: Distribuciones de frecuencias y representaciones gráficas\nknitr:\n    opts_chunk:\n      R.options:\n        warning: false\nlang: es\n---\n\nEn esta práctica contiene ejercicios que muestran como hacer un resumen descriptivos de un conjunto de datos mediante la construcción de tablas de frecuencias y la representación gráfica de las mismas. En particular, se muestra cómo construir los siguientes tipos de gráficos:\n\n- Diagramas de barras.\n- Diagramas de sectores.\n- Diagramas de cajas.\n- Histogramas.\n- Polígonos de frecuencias.\n\n## Ejercicios Resueltos\n\nPara la realización de esta práctica se requieren los siguientes paquetes:\n\n```r\nlibrary(tidyverse) \n# Incluye los siguientes paquetes:\n# - readr: para la lectura de ficheros csv. \n# - dplyr: para el preprocesamiento y manipulación de datos.\n# - ggplot2: para la representación gráfica.\nlibrary(knitr) # para el formateo de tablas.\n```\n\n:::{#exr-frecuencias-graficos-1}\nEn una encuesta a 25 matrimonios sobre el número de hijos que tenían se obtuvieron los siguientes datos:\n\n$$\n\\mbox{1, 2, 4, 2, 2, 2, 3, 2, 1, 1, 0, 2, 2, 0, 2, 2, 1, 2, 2, 3, 1, 2, 2, 1, 2}\n$$\n\na.  Crear un conjunto de datos con la variable `hijos`.\n\n    :::{.callout-tip collapse=\"true\"}\n    ## Solución\n    \n    ::: {.cell}\n    \n    ```{.r .cell-code}\n    df <- data.frame(hijos = c(1, 2, 4, 2, 2, 2, 3, 2, 1, 1, 0, 2, 2, 0, 2, 2, 1, 2, 2, 3, 1, 2, 2, 1, 2))\n    ```\n    :::\n    :::\n\na.  Construir la tabla de frecuencias.\n\n    :::{.callout-tip collapse=\"true\"}\n    ## Solución\n    :::{.panel-tabset}\n\n    ## Base\n    Para obtener las frecuencias se puede usar la función [`table`](https://www.rdocumentation.org/packages/base/versions/3.6.2/topics/table), y para las frecuencias relativas la función  [`prop.table`](https://www.rdocumentation.org/packages/base/versions/3.6.2/topics/prop.table) ambas del paquete `base` de R.\n\n    ::: {.cell}\n    \n    ```{.r .cell-code}\n    library(knitr)\n    # Frecuencias absolutas.\n    ni <- table(df$hijos)\n    # Frecuencias relativas\n    fi <- prop.table(ni)\n    # Frecuencias acumuladas.\n    Ni <- cumsum(ni)\n    # Frecuencias relativas acumuladas.\n    Fi <- cumsum(fi)\n    # Creación de un data frame con las frecuencias.\n    tabla_frec <- cbind(ni, fi, Ni, Fi)\n    kable(tabla_frec)\n    ```\n    \n    ::: {.cell-output-display}\n    \n    \n    |   | ni|   fi| Ni|   Fi|\n    |:--|--:|----:|--:|----:|\n    |0  |  2| 0.08|  2| 0.08|\n    |1  |  6| 0.24|  8| 0.32|\n    |2  | 14| 0.56| 22| 0.88|\n    |3  |  2| 0.08| 24| 0.96|\n    |4  |  1| 0.04| 25| 1.00|\n    \n    \n    :::\n    :::\n\n    ## tidyverse\n    Con la función [`count`](https://aprendeconalf.es/manual-r/06-preprocesamiento.html#conteo-del-n%C3%BAmero-de-observaciones) del paquete `dplyr` de `tidyverse`.\n\n    ::: {.cell}\n    \n    ```{.r .cell-code}\n    library(tidyverse)\n    library(knitr)\n    count(df, hijos) |> \n        mutate(fi = n/sum(n), Ni = cumsum(n), Fi = cumsum(n)/sum(n)) |>\n        kable()\n    ```\n    \n    ::: {.cell-output-display}\n    \n    \n    | hijos|  n|   fi| Ni|   Fi|\n    |-----:|--:|----:|--:|----:|\n    |     0|  2| 0.08|  2| 0.08|\n    |     1|  6| 0.24|  8| 0.32|\n    |     2| 14| 0.56| 22| 0.88|\n    |     3|  2| 0.08| 24| 0.96|\n    |     4|  1| 0.04| 25| 1.00|\n    \n    \n    :::\n    :::\n    :::\n    :::\n\na.  Dibujar el diagrama de barras de las frecuencias absolutas, relativas, absolutas acumuladas y relativas acumuladas.\n\n    :::{.callout-tip collapse=\"true\"}\n    ## Solución\n    :::{.panel-tabset}\n\n    ## Base\n    Con la función [`barplot`](https://www.rdocumentation.org/packages/graphics/versions/3.6.2/topics/barplot) del paquete `graphics`.\n\n    ::: {.cell}\n    \n    ```{.r .cell-code}\n    # Diagrama de barras de frecuencias absolutas.\n    barplot(ni, col = \"steelblue\", main=\"Distribución del número de hijos\", xlab=\"Hijos\", ylab=\"Frecuencia absoluta\")\n    ```\n    \n    ::: {.cell-output-display}\n    ![](04-frecuencias-graficos_files/figure-html/unnamed-chunk-4-1.png){width=672}\n    :::\n    \n    ```{.r .cell-code}\n    # Diagrama de barras de frecuencias relativas.\n    barplot(fi, col = \"steelblue\", main=\"Distribución del número de hijos\", xlab=\"Hijos\", ylab=\"Frecuencia relativa\")\n    ```\n    \n    ::: {.cell-output-display}\n    ![](04-frecuencias-graficos_files/figure-html/unnamed-chunk-4-2.png){width=672}\n    :::\n    \n    ```{.r .cell-code}\n    # Diagrama de barras de frecuencias absolutas acumuladas.\n    barplot(Ni, col = \"steelblue\", main=\"Distribución acumulada del número de hijos\", xlab=\"Hijos\", ylab=\"Frecuencia absoluta acumulada\")\n    ```\n    \n    ::: {.cell-output-display}\n    ![](04-frecuencias-graficos_files/figure-html/unnamed-chunk-4-3.png){width=672}\n    :::\n    \n    ```{.r .cell-code}\n    # Diagrama de barras de frecuencias relativas acumuladas.\n    barplot(Fi, col = \"steelblue\", main=\"Distribución acumulada del número de hijos\", xlab=\"Hijos\", ylab=\"Frecuencia relativa acumulada\")\n    ```\n    \n    ::: {.cell-output-display}\n    ![](04-frecuencias-graficos_files/figure-html/unnamed-chunk-4-4.png){width=672}\n    :::\n    :::\n    \n    ## tidyverse\n    Con la función [`geom_bar`](https://aprendeconalf.es/manual-r/07-graficos.html#diagramas-de-barras) del paquete `ggplot2` de `tidyverse`.\n\n    ::: {.cell}\n    \n    ```{.r .cell-code}\n    # Diagarma de barras de frecuencias absolutas\n    ggplot(df, aes(x = hijos)) +\n        geom_bar(fill = \"steelblue\") + \n        labs(title = \"Distribución del número de hijos\", y = \"Frecuencia absoluta\")\n    ```\n    \n    ::: {.cell-output-display}\n    ![](04-frecuencias-graficos_files/figure-html/unnamed-chunk-5-1.png){width=672}\n    :::\n    \n    ```{.r .cell-code}\n    # Diagarma de barras de frecuencias relativas\n    ggplot(df, aes(x = hijos)) +\n        geom_bar(aes(y = after_stat(count/sum(count))), fill = \"steelblue\") +\n        labs(title = \"Distribución del número de hijos\", y = \"Frecuencia relativa\")\n    ```\n    \n    ::: {.cell-output-display}\n    ![](04-frecuencias-graficos_files/figure-html/unnamed-chunk-5-2.png){width=672}\n    :::\n    \n    ```{.r .cell-code}\n    # Diagarma de barras de frecuencias acumuladas\n    ggplot(df, aes(x = hijos)) +\n        geom_bar(aes(y = after_stat(cumsum(count))), fill = \"steelblue\") +\n        labs(title = \"Distribución acumulada del número de hijos\", y = \"Frecuencia absoluta acumulada\")\n    ```\n    \n    ::: {.cell-output-display}\n    ![](04-frecuencias-graficos_files/figure-html/unnamed-chunk-5-3.png){width=672}\n    :::\n    \n    ```{.r .cell-code}\n    # Diagarma de barras de frecuencias acumuladas\n    ggplot(df, aes(x = hijos)) +\n        geom_bar(aes(y = after_stat(cumsum(count)/sum(count))), fill = \"steelblue\") +\n        labs(title = \"Distribución acumulada del número de hijos\", y = \"Frecuencia relativa acumulada\")\n    ```\n    \n    ::: {.cell-output-display}\n    ![](04-frecuencias-graficos_files/figure-html/unnamed-chunk-5-4.png){width=672}\n    :::\n    :::\n    :::\n    :::\n\na.  Dibujar el polígono de frecuencias relativas.\n\n    :::{.callout-tip collapse=\"true\"}\n    ## Solución\n    :::{.panel-tabset}\n\n    ## Base\n    Con la función [`plot`](https://www.rdocumentation.org/packages/graphics/versions/3.6.2/topics/plot) del paquete `graphics`.\n\n    ::: {.cell}\n    \n    ```{.r .cell-code}\n    # Frecuencias relativas.\n    plot(fi, type = \"l\", col = \"steelblue\", main=\"Distribución del número de hijos\", xlab=\"Hijos\", ylab=\"Frecuencia relativa\")\n    ```\n    \n    ::: {.cell-output-display}\n    ![](04-frecuencias-graficos_files/figure-html/unnamed-chunk-6-1.png){width=672}\n    :::\n    :::\n    \n    ## tidyverse\n    Con la función la función [`geom_line`](https://aprendeconalf.es/manual-r/07-graficos.html#diagramas-de-lineas) del paquete `ggplot2` de `tidyverse`.\n\n    ::: {.cell}\n    \n    ```{.r .cell-code}\n    library(ggplot2)\n    count(df, hijos) |> \n        mutate(fi = n/sum(n)) |>\n        ggplot(aes(x=hijos, y=fi)) +\n        geom_line(col = \"steelblue\") +\n        labs(title = \"Distribución del número de hijos\", y = \"Frecuencia relativa\")\n    ```\n    \n    ::: {.cell-output-display}\n    ![](04-frecuencias-graficos_files/figure-html/unnamed-chunk-7-1.png){width=672}\n    :::\n    :::\n    :::\n    :::\n:::\n\n:::{#exr-frecuencias-graficos-2}\nEn un servicio de atención al cliente se han registrado el número de llamadas de clientes cada día del mes de noviembre, obteniendo los siguientes datos:\n\n$$\n\\begin{array}{c}\n\\mbox{15, 23, 12, 10, 28, 50, 12, 17, 20, 21, 18, 13, 11, 12, 26} \\\\\n\\mbox{30, 6, 16, 19, 22, 14, 17, 21, 28, 9, 16, 13, 11, 16, 20}\n\\end{array}\n$$\n\na.  Crear un conjunto de datos con la variable `llamadas`.\n\n    :::{.callout-tip collapse=\"true\"}\n    ## Solución\n\n    ::: {.cell}\n    \n    ```{.r .cell-code}\n    df <- data.frame(llamadas = c(15, 23, 12, 10, 28, 50, 12, 17, 20, 21, 18, 13, 11, 12, 26, 30, 6, 16, 19, 22, 14, 17, 21, 28, 9, 16, 13, 11, 16, 20))\n    ```\n    :::\n    :::\n\na.  Dibujar el diagrama de cajas. ¿Existe algún dato atípico? En el caso de que exista, eliminarlo y proceder con los siguientes apartados.\n\n    :::{.callout-tip collapse=\"true\"}\n    ## Solución\n    :::{.panel-tabset}\n\n    ## Base\n    Con la función [`boxplot`](https://www.rdocumentation.org/packages/graphics/versions/3.6.2/topics/boxplot) del paquete `graphics`.\n\n    ::: {.cell}\n    \n    ```{.r .cell-code}\n    # Frecuencias relativas.\n    boxplot(df$llamadas, col = \"steelblue\", main=\"Distribución del número de llamadas\", horizontal = T, xlab=\"Número de llamadas\")\n    ```\n    \n    ::: {.cell-output-display}\n    ![](04-frecuencias-graficos_files/figure-html/unnamed-chunk-9-1.png){width=672}\n    :::\n    :::\n    \n    ## tidyverse\n    Con la función la función [`geom_boxplot`](https://aprendeconalf.es/manual-r/07-graficos.html#diagramas-de-cajas) del paquete `ggplot2` de `tidyverse`.\n\n    ::: {.cell}\n    \n    ```{.r .cell-code}\n    library(tidyverse)\n    ggplot(df, aes(x = llamadas)) +\n        geom_boxplot(fill = \"steelblue\") +\n        labs(title = \"Distribución del número de llamadas\", x = \"Número de llamadas\")\n    ```\n    \n    ::: {.cell-output-display}\n    ![](04-frecuencias-graficos_files/figure-html/unnamed-chunk-10-1.png){width=672}\n    :::\n    :::\n    :::\n\n    Hay un día con 50 llamadas, que es un valor atípico en comparación con el resto de días.\n    \n    :::{.panel-tabset}\n\n    ## Base\n    Con las funciones del paquete `base` de R.\n\n    ::: {.cell}\n    \n    ```{.r .cell-code}\n    # Eliminación del dato atípico.\n    df <- df[df$llamadas != 50, , drop = F]\n    ```\n    :::\n\n    ## tidyverse\n    Con la función `filter` del paquete `dplyr` de `tidyverse`.\n\n    ::: {.cell}\n    \n    ```{.r .cell-code}\n    df <- filter(df, llamadas != 50)\n    ```\n    :::\n    :::\n    :::\n\na.  Construir la tabla de frecuencias agrupando en 5 clases.\n\n    :::{.callout-tip collapse=\"true\"}\n    ## Solución\n    :::{.panel-tabset}\n\n    ## Base\n    Para agrupar los datos en intervalos se puede utilizar la función [`cut`](https://www.rdocumentation.org/packages/base/versions/3.6.2/topics/cut) del paquete base de R, y para contar las frecuencias absolutas y relativas las funciones [`table`](https://www.rdocumentation.org/packages/base/versions/3.6.2/topics/table), y [`prop.table`](https://www.rdocumentation.org/packages/base/versions/3.6.2/topics/prop.table) respectivamente.\n\n    ::: {.cell}\n    \n    ```{.r .cell-code}\n    # Frecuencias absolutas. Creación automática de 5 clases con intervalos cerrados a la izquierda.\n    ```\n    :::\n    ::: {.cell}\n    \n    ```{.r .cell-code}\n    library(knitr)\n    ni <- table(cut(df$llamadas, breaks = 5, right = F))\n    # Creación manual de 5 clases.\n    ni <- table(cut(df$llamadas, breaks = seq(5, 30, 5)))\n    # Frecuencias relativas\n    fi <- prop.table(ni)\n    # Frecuencias acumuladas.\n    Ni <- cumsum(ni)\n    # Frecuencias relativas acumuladas.\n    Fi <- cumsum(fi)\n    # Creación de un data frame con las frecuencias.\n    tabla_frec <- cbind(ni, fi, Ni, Fi)\n    kable(tabla_frec)\n    ```\n    \n    ::: {.cell-output-display}\n    \n    \n    |        | ni|        fi| Ni|        Fi|\n    |:-------|--:|---------:|--:|---------:|\n    |(5,10]  |  3| 0.1034483|  3| 0.1034483|\n    |(10,15] |  9| 0.3103448| 12| 0.4137931|\n    |(15,20] |  9| 0.3103448| 21| 0.7241379|\n    |(20,25] |  4| 0.1379310| 25| 0.8620690|\n    |(25,30] |  4| 0.1379310| 29| 1.0000000|\n    \n    \n    :::\n    :::\n \n    ## tidyverse\n    Con la fución [`count`](https://aprendeconalf.es/manual-r/06-preprocesamiento.html#conteo-del-n%C3%BAmero-de-observaciones) del paquete `dplyr` de `tidyverse`.\n\n    ::: {.cell}\n    \n    ```{.r .cell-code}\n    library(knitr)\n    mutate(df, llamadas_int = cut(llamadas, breaks = seq(5, 30, 5))) |> \n        count(llamadas_int) |>\n        mutate(fi = n/sum(n), Ni = cumsum(n), Fi = cumsum(n)/sum(n)) |>\n        kable()\n    ```\n    \n    ::: {.cell-output-display}\n    \n    \n    |llamadas_int |  n|        fi| Ni|        Fi|\n    |:------------|--:|---------:|--:|---------:|\n    |(5,10]       |  3| 0.1034483|  3| 0.1034483|\n    |(10,15]      |  9| 0.3103448| 12| 0.4137931|\n    |(15,20]      |  9| 0.3103448| 21| 0.7241379|\n    |(20,25]      |  4| 0.1379310| 25| 0.8620690|\n    |(25,30]      |  4| 0.1379310| 29| 1.0000000|\n    \n    \n    :::\n    :::\n    :::\n    :::\n    \n\na.  Dibujar el histograma de frecuencias absolutas, relativas, absolutas acumuladas y relativas acumuladas correspondiente a la tabla anterior.\n\n    :::{.callout-tip collapse=\"true\"}\n    ## Solución\n    :::{.panel-tabset}\n\n    ## Base\n    Con la función [`hist`](https://www.rdocumentation.org/packages/graphics/versions/3.6.2/topics/hist) del paquete `graphics`.\n\n    ::: {.cell}\n    \n    ```{.r .cell-code}\n    # Histograma de frecuencias absolutas.\n    histo <- hist(df$llamadas, breaks = seq(5, 30, 5), col = \"steelblue\", main=\"Distribución del número de llamadas\", xlab=\"Llamadas\", ylab=\"Frecuencia absoluta\")\n    ```\n    \n    ::: {.cell-output-display}\n    ![](04-frecuencias-graficos_files/figure-html/unnamed-chunk-16-1.png){width=672}\n    :::\n    \n    ```{.r .cell-code}\n    ni <- histo$counts\n    # Histograma de frecuencias relativas.\n    histo$counts <- ni/sum(ni)\n    plot(histo, col = \"steelblue\", main=\"Distribución del número de llamadas\", xlab=\"Llamadas\", ylab=\"Frecuencia relativa\")\n    ```\n    \n    ::: {.cell-output-display}\n    ![](04-frecuencias-graficos_files/figure-html/unnamed-chunk-16-2.png){width=672}\n    :::\n    \n    ```{.r .cell-code}\n    # Histograma de frecuencias absolutas acumuladas.\n    histo$counts <- cumsum(ni)\n    plot(histo, col = \"steelblue\", main=\"Distribución acumulada del número de llamadas\", xlab=\"Llamadas\", ylab=\"Frecuencia absoluta acumulada\")\n    ```\n    \n    ::: {.cell-output-display}\n    ![](04-frecuencias-graficos_files/figure-html/unnamed-chunk-16-3.png){width=672}\n    :::\n    \n    ```{.r .cell-code}\n    # Histograma de frecuencias relativas acumuladas.\n    histo$counts <- cumsum(ni)/sum(ni)\n    plot(histo, col = \"steelblue\", main=\"Distribución acumulada del número de llamadas\", xlab=\"Llamadas\", ylab=\"Frecuencia relativa acumulada\", )\n    ```\n    \n    ::: {.cell-output-display}\n    ![](04-frecuencias-graficos_files/figure-html/unnamed-chunk-16-4.png){width=672}\n    :::\n    :::\n    ## tidyverse\n    Con la función la función [`geom_histogram`](https://aprendeconalf.es/manual-r/07-graficos.html#histogramas) del paquete `ggplot2` de `tidyverse`.\n\n    ::: {.cell}\n    \n    ```{.r .cell-code}\n    # Histograma de frecuencias absolutas\n    ggplot(df, aes(x = llamadas)) +\n        geom_histogram(breaks = seq(5, 30, 5), fill = \"steelblue\", col = \"white\") + \n        labs(title = \"Distribución del número de llamadas\", x = \"Número de llamadas\", y = \"Frecuencia absoluta\")\n    ```\n    \n    ::: {.cell-output-display}\n    ![](04-frecuencias-graficos_files/figure-html/unnamed-chunk-17-1.png){width=672}\n    :::\n    \n    ```{.r .cell-code}\n    # Histograma de frecuencias relativas\n    ggplot(df, aes(x = llamadas)) +\n        geom_histogram(aes(y = after_stat(count/sum(count))), breaks = seq(5, 30, 5), fill = \"steelblue\", col = \"white\") +\n        labs(title = \"Distribución del número de llamadas\", x = \"Número de llamadas\", y = \"Frecuencia relativa\")\n    ```\n    \n    ::: {.cell-output-display}\n    ![](04-frecuencias-graficos_files/figure-html/unnamed-chunk-17-2.png){width=672}\n    :::\n    \n    ```{.r .cell-code}\n    # Histograma de frecuencias acumuladas\n    ggplot(df, aes(x = llamadas)) +\n        geom_histogram(aes(y = after_stat(cumsum(count))), breaks = seq(5, 30, 5), fill = \"steelblue\", col = \"white\") +\n        labs(title = \"Distribución acumulada del número de llamadas\", x = \"Número de llamadas\", y = \"Frecuencia absoluta acumulada\")\n    ```\n    \n    ::: {.cell-output-display}\n    ![](04-frecuencias-graficos_files/figure-html/unnamed-chunk-17-3.png){width=672}\n    :::\n    \n    ```{.r .cell-code}\n    # Histograma de frecuencias relativas acumuladas\n    ggplot(df, aes(x = llamadas)) +\n        geom_histogram(aes(y = after_stat(cumsum(count)/sum(count))),  breaks = seq(5, 30, 5), fill = \"steelblue\", col = \"white\") +\n        labs(title = \"Distribución acumulada del número de llamadas\", x = \"Número de llamadas\", y = \"Frecuencia relativa acumulada\")\n    ```\n    \n    ::: {.cell-output-display}\n    ![](04-frecuencias-graficos_files/figure-html/unnamed-chunk-17-4.png){width=672}\n    :::\n    :::\n    :::\n    :::\n\na.  Dibujar el polígono de frecuencias relativas acumuladas (ojiva).\n\n    :::{.callout-tip collapse=\"true\"}\n    ## Solución\n    :::{.panel-tabset}\n\n    ## Base\n    Con la función [`plot`](https://www.rdocumentation.org/packages/graphics/versions/3.6.2/topics/plot) del paquete `graphics`.\n\n    ::: {.cell}\n    \n    ```{.r .cell-code}\n    # Ojiva\n    cortes = seq(5, 30, 5)\n    ni <- table(cut(df$llamadas, breaks = cortes))\n    Fi <- c(0, cumsum(ni)/sum(ni))\n    plot(cortes, Fi, type = \"l\", col = \"steelblue\", main = \"Distribución acumulada del número de llamadas\", xlab = \"Número de llamadas\", ylab = \"Frecuencia relativa acumulada\")\n    ```\n    \n    ::: {.cell-output-display}\n    ![](04-frecuencias-graficos_files/figure-html/unnamed-chunk-18-1.png){width=672}\n    :::\n    :::\n    \n    ## tidyverse\n    Con la función [`geom_line`](https://aprendeconalf.es/manual-r/07-graficos.html#histogramas) del paquete `ggplot2` de `tidyverse`.\n\n    ::: {.cell}\n    \n    ```{.r .cell-code}\n    library(ggplot2)\n    # Ojiva\n    cortes <- seq(5, 30, 5)\n    tabla_frec <- mutate(df, llamadas_int = cut(df$llamadas, breaks = cortes)) |> \n        count(llamadas_int) |>\n        mutate(cortes = cortes[-1], Fi = cumsum(n)/sum(n)) |>\n        select(cortes, Fi) \n    tabla_frec <- rbind(data.frame(cortes = cortes[1], Fi = 0), tabla_frec)\n    ggplot(tabla_frec, aes(x = cortes , y = Fi)) +\n        geom_line(col = \"steelblue\") +\n        labs(title = \"Distribución del número de llamadas\", x = \"Número de llamadas\", y = \"Frecuencia relativa acumulada\")\n    ```\n    \n    ::: {.cell-output-display}\n    ![](04-frecuencias-graficos_files/figure-html/unnamed-chunk-19-1.png){width=672}\n    :::\n    :::\n    :::\n    :::\n:::\n\n:::{#exr-frecuencias-graficos-3}\nLos grupos sanguíneos de una muestra de 30 personas son:\n\n\\begin{array}{c}\n\\mbox{A, B, B, A, AB, 0, 0, A, B, B, A, A, A, A, AB, A, A, A, B, 0, B, B, B, A, A, A, 0, A, AB, 0}\n\\end{array}\n\na.  Crear un conjunto de datos con la variable `grupo_sanguíneo`.\n\n    :::{.callout-tip collapse=\"true\"}\n    ## Solución\n    \n    ::: {.cell}\n    \n    ```{.r .cell-code}\n    df <- data.frame(grupo_sanguineo = c(\"A\", \"B\", \"B\", \"A\", \"AB\", \"0\", \"0\", \"A\", \"B\", \"B\", \"A\", \"A\", \"A\", \"A\", \"AB\", \"A\", \"A\", \"A\", \"B\", \"0\", \"B\", \"B\", \"B\", \"A\", \"A\", \"A\", \"0\", \"A\", \"AB\", \"0\"))\n    ```\n    :::\n    :::\n\na.  Construir la tabla de frecuencias.\n\n    :::{.callout-tip collapse=\"true\"}\n    ## Solución\n    :::{.panel-tabset}\n\n    ## Base\n    Para obtener las frecuencias absolutas se puede usar la función [`table`](https://www.rdocumentation.org/packages/base/versions/3.6.2/topics/table), y para las frecuencias relativas la función  [`prop.table`](https://www.rdocumentation.org/packages/base/versions/3.6.2/topics/prop.table) ambas del paquete base de R.\n\n    ::: {.cell}\n    \n    ```{.r .cell-code}\n    library(knitr)\n    # Frecuencias absolutas.\n    ni <- table(df$grupo_sanguineo)\n    # Frecuencias relativas\n    fi <- prop.table(ni)\n    tabla_frec <- cbind(ni, fi)\n    kable(tabla_frec)\n    ```\n    \n    ::: {.cell-output-display}\n    \n    \n    |   | ni|        fi|\n    |:--|--:|---------:|\n    |0  |  5| 0.1666667|\n    |A  | 14| 0.4666667|\n    |AB |  3| 0.1000000|\n    |B  |  8| 0.2666667|\n    \n    \n    :::\n    :::\n\n    ## tidyverse\n    Con la fución [`count`](https://aprendeconalf.es/manual-r/06-preprocesamiento.html#conteo-del-n%C3%BAmero-de-observaciones) del paquete `dplyr` de `tidyverse`.\n\n    ::: {.cell}\n    \n    ```{.r .cell-code}\n    library(tidyverse)\n    library(knitr)\n    count(df, grupo_sanguineo) |> \n        mutate(fi = n/sum(n)) |>\n        kable()\n    ```\n    \n    ::: {.cell-output-display}\n    \n    \n    |grupo_sanguineo |  n|        fi|\n    |:---------------|--:|---------:|\n    |0               |  5| 0.1666667|\n    |A               | 14| 0.4666667|\n    |AB              |  3| 0.1000000|\n    |B               |  8| 0.2666667|\n    \n    \n    :::\n    :::\n    :::\n    :::\n\na.  Dibujar el diagrama de sectores.\n\n    :::{.callout-tip collapse=\"true\"}\n    ## Solución\n    :::{.panel-tabset}\n\n    ## Base\n    Con la función [`pie`](https://www.rdocumentation.org/packages/graphics/versions/3.6.2/topics/pie) del paquete `graphics`.\n\n    ::: {.cell}\n    \n    ```{.r .cell-code}\n    # Diagrama de sectores\n    pie(ni, col = 1:length(ni), main = \"Distribución de los grupos sanguíneos\")\n    ```\n    \n    ::: {.cell-output-display}\n    ![](04-frecuencias-graficos_files/figure-html/unnamed-chunk-23-1.png){width=672}\n    :::\n    :::\n\n    ## tidyverse\n    Con las fuciones [`geom_bar`](https://aprendeconalf.es/manual-r/07-graficos.html#diagrama-de-sectores) y `coor_polar` del paquete `ggplot2` de `tidyverse`.\n\n    ::: {.cell}\n    \n    ```{.r .cell-code}\n    ggplot(df, aes(x = \"\", fill = grupo_sanguineo)) +\n        # Añadir la capa de las barras.\n        geom_bar() +\n        # Añadir el sistema de coordenadas polares\n        coord_polar(theta = \"y\") +\n        labs(title = \"Distribución de los grupos sanguíneos\")\n    ```\n    \n    ::: {.cell-output-display}\n    ![](04-frecuencias-graficos_files/figure-html/unnamed-chunk-24-1.png){width=672}\n    :::\n    :::\n    :::\n    :::\n:::\n\n:::{#exr-frecuencias-graficos-4}\nEn un estudio de población se tomó una muestra de 27 personas, y se les preguntó por su edad y estado civil, obteniendo los siguientes resultados:\n\n\n|Estado civil | Edad|\n|:-|:-|\n|Soltero |  31, 45, 35, 65, 21, 38, 62, 22, 31|\n|Casado |    62, 39, 62, 59, 21, 62          |\n|Viudo |     80, 68, 65, 40, 78, 69, 75       |\n|Divorciado | 31, 65, 59, 49, 65             |\n\na.  Crear un conjunto de datos con la variables `estado_civil` y `edad`.\n\n    :::{.callout-tip collapse=\"true\"}\n    ## Solución\n    ::: {.cell}\n    \n    ```{.r .cell-code}\n    df <- data.frame(\n        edad = c(31, 45, 35, 65, 21, 38, 62, 22, 31, 62, 39, 62, 59, 21, 62, 80, 68, 65, 40, 78, 69, 75, 31, 65, 59, 49, 65), \n        estado_civil = rep(c(\"Soltero\", \"Casado\", \"Viudo\", \"Divorciado\"), c(9, 6, 7, 5)))\n    ```\n    :::\n    :::\n\na.  Calcular los tamaños muestrales según `estado_civil`.\n\n    :::{.callout-tip collapse=\"true\"}\n    ## Solución\n    :::{.panel-tabset}\n\n    ## Base\n    Con la función [`table`](https://www.rdocumentation.org/packages/base/versions/3.6.2/topics/table) del paquete `base` de R podemos obtener las frecuencias absolutas del estado civil que es el tamaño muestral de cada grupo.\n\n    ::: {.cell}\n    \n    ```{.r .cell-code}\n    table(df$estado_civil)\n    ```\n    \n    ::: {.cell-output .cell-output-stdout}\n    \n    ```\n    \n        Casado Divorciado    Soltero      Viudo \n             6          5          9          7 \n    ```\n    \n    \n    :::\n    :::\n\n    ## tidyverse\n    Con las funciones [`groub_by`](https://dplyr.tidyverse.org/reference/group_by.html), [`summarise`](https://dplyr.tidyverse.org/reference/summarise.html) y [`n`](https://dplyr.tidyverse.org/reference/context.html) del paquete `dplyr` de `tidyverse`.\n    \n    ::: {.cell}\n    \n    ```{.r .cell-code}\n    library(tidyverse)\n    df |> group_by(estado_civil) |>\n        summarise(n = n())\n    ```\n    \n    ::: {.cell-output .cell-output-stdout}\n    \n    ```\n    # A tibble: 4 × 2\n      estado_civil     n\n      <chr>        <int>\n    1 Casado           6\n    2 Divorciado       5\n    3 Soltero          9\n    4 Viudo            7\n    ```\n    \n    \n    :::\n    :::\n    :::\n    :::\n\na.  Construir la tabla de frecuencias de la variable `edad` para cada categoría de la variable `estado_civil`.\n\n    :::{.callout-tip collapse=\"true\"}\n    ## Solución\n    Con la función la función [`group-by`](https://aprendeconalf.es/manual-r/06-preprocesamiento.html#res%C3%BAmenes-por-grupos) del paquete `dplyr` de `tidyverse`.\n    \n    ::: {.cell}\n    \n    ```{.r .cell-code}\n    library(knitr)\n    mutate(df, edad_int = cut(edad, breaks = seq(20, 80, 10))) |>\n        group_by(estado_civil) |>\n        count(edad_int) |> \n        mutate(fi = n/sum(n), Ni = cumsum(n), Fi = cumsum(n)/sum(n)) |>\n        kable()\n    ```\n    \n    ::: {.cell-output-display}\n    \n    \n    |estado_civil |edad_int |  n|        fi| Ni|        Fi|\n    |:------------|:--------|--:|---------:|--:|---------:|\n    |Casado       |(20,30]  |  1| 0.1666667|  1| 0.1666667|\n    |Casado       |(30,40]  |  1| 0.1666667|  2| 0.3333333|\n    |Casado       |(50,60]  |  1| 0.1666667|  3| 0.5000000|\n    |Casado       |(60,70]  |  3| 0.5000000|  6| 1.0000000|\n    |Divorciado   |(30,40]  |  1| 0.2000000|  1| 0.2000000|\n    |Divorciado   |(40,50]  |  1| 0.2000000|  2| 0.4000000|\n    |Divorciado   |(50,60]  |  1| 0.2000000|  3| 0.6000000|\n    |Divorciado   |(60,70]  |  2| 0.4000000|  5| 1.0000000|\n    |Soltero      |(20,30]  |  2| 0.2222222|  2| 0.2222222|\n    |Soltero      |(30,40]  |  4| 0.4444444|  6| 0.6666667|\n    |Soltero      |(40,50]  |  1| 0.1111111|  7| 0.7777778|\n    |Soltero      |(60,70]  |  2| 0.2222222|  9| 1.0000000|\n    |Viudo        |(30,40]  |  1| 0.1428571|  1| 0.1428571|\n    |Viudo        |(60,70]  |  3| 0.4285714|  4| 0.5714286|\n    |Viudo        |(70,80]  |  3| 0.4285714|  7| 1.0000000|\n    \n    \n    :::\n    :::\n    :::\n\na.  Dibujar los diagramas de cajas de la edad según el estado civil. ¿Existen datos atípicos? ¿En qué grupo hay mayor\ndispersión?\n\n    :::{.callout-tip collapse=\"true\"}\n    ## Solución\n\n    ::: {.cell}\n    \n    ```{.r .cell-code}\n    ggplot(df, aes(x = edad, fill = estado_civil)) +\n        geom_boxplot()\n    ```\n    \n    ::: {.cell-output-display}\n    ![](04-frecuencias-graficos_files/figure-html/unnamed-chunk-29-1.png){width=672}\n    :::\n    :::\n    :::\n\na.  Dibujar los histogramas de la edad según el estado civil.\n\n    :::{.callout-tip collapse=\"true\"}\n    ## Solución\n    Con la función [`geom_histogram`](https://aprendeconalf.es/manual-r/07-graficos.html#histogramas) del paquete `ggplot2` de `tidyverse`.\n\n    ::: {.cell}\n    \n    ```{.r .cell-code}\n    ggplot(df, aes(x = edad, fill = estado_civil)) +\n        geom_histogram(breaks = seq(20, 80, 10), position = \"identity\", alpha=0.4)\n    ```\n    \n    ::: {.cell-output-display}\n    ![](04-frecuencias-graficos_files/figure-html/unnamed-chunk-30-1.png){width=672}\n    :::\n    :::\n\n    Para dibujar cada histograma por separado se puede usar la función [`facet_wrap`](https://aprendeconalf.es/manual-r/07-graficos.html#facetas) o `facet_grid` del paquete `ggplot2` de `tidyverse`.\n\n    ::: {.cell}\n    \n    ```{.r .cell-code}\n    ggplot(df, aes(x = edad, fill = estado_civil)) +\n        geom_histogram(breaks = seq(20, 80, 10)) +\n        # Añadir la faceta del estado civil\n        facet_grid(rows = vars(estado_civil))\n    ```\n    \n    ::: {.cell-output-display}\n    ![](04-frecuencias-graficos_files/figure-html/unnamed-chunk-31-1.png){width=672}\n    :::\n    :::\n    :::\n:::\n\n## Ejercicios propuestos\n\n:::{#exr-frecuencias-graficos-5}\nEl conjunto de datos [neonatos](datos/neonatos.csv) contiene información sobre una muestra de 320 recién nacidos en un hospital durante un año que cumplieron el tiempo normal de gestación.\n\na.  Construir la tabla de frecuencias de la puntuación Apgar al minuto de nacer. Si se considera que una puntuación Apgar de 3 o menos indica que el neonato está deprimido, ¿qué porcentaje de niños está deprimido en la muestra?\n\na.  Comparar las distribuciones de frecuencias de las puntuaciones Apgar al minuto de nacer según si la madre es mayor o menor de 20 años. ¿En qué grupo hay más neonatos deprimidos?\n\na.  Construir la tabla de frecuencias para el peso de los neonatos, agrupando en clases de amplitud $0.5$ desde el $2$ hasta el $4.5$. ¿En qué intervalo de peso hay más neonatos?\n\na.  Comparar la distribución de frecuencias relativas del peso de los neonatos según si la madre fuma o no. Si se considera como peso bajo un peso menor de $2.5$ kg, ¿En qué grupo hay un mayor porcentaje de niños con peso bajo?\n\na.  Construir el diagrama de barras de la puntuación Apgar al minuto. ¿Qué puntuación Apgar es la más frecuente?\n\na.  Construir el diagrama de frecuencias relativas acumuladas de la puntuación Apgar al minuto. ¿Por debajo de que puntuación estarán la mitad de los niños?\n\na.  Comparar mediante diagramas de barras de frecuencias relativas las distribuciones de las puntuaciones Apgar al minuto según si la madre ha fumado o no durante el embarazo. ¿Qué se puede concluir?\n\na.  Construir el histograma de pesos, agrupando en clases de amplitud $0.5$ desde el $2$ hasta el $4.5$. ¿En qué intervalo de peso hay más niños?\n\na.  Comparar la distribución de frecuencias relativas del peso de los neonatos según si la madre fuma o no. ¿En qué grupo se aprecia menor peso de los niños de la muestra?\n\na.  Comparar la distribución de frecuencias relativas del peso de los neonatos según si la madre fumaba o no antes del embarazo. ¿Qué se puede concluir?\n\na.  Construir el diagrama de caja y bigotes del peso. ¿Entre qué valores se considera que el peso de un neonato es normal? ¿Existen datos atípicos?\n\na.  Comparar el diagrama de cajas y bigotes del peso, según si la madre fumó o no durante el embarazo y si era mayor o no de 20 años. ¿En qué grupo el peso tiene más dispersión central? ¿En qué grupo pesan menos los niños de la muestra?\n\na.  Comparar el diagrama de cajas de la puntuación Apgar al minuto y a los cinco minutos. ¿En qué variable hay más dispersión central?\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}